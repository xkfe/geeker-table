<script setup lang="tsx">
import { reactive, ref } from 'vue'
import { ElMessage } from 'element-plus'

const isDark = ref(false)

// 表格配置项
const columns = reactive([
  { type: 'selection', fixed: 'left', width: 70 },
  { type: 'sort', label: 'Sort', width: 80 },
  { type: 'expand', label: 'Expand', width: 85 },
  {
    prop: 'username',
    label: '用户姓名',
    search: { el: 'input', tooltip: '我是搜索提示' },
    render: (scope) => {
      return (
        <el-button type="primary" link onClick={() => ElMessage.success('我是通过 tsx 语法渲染的内容')}>
          {scope.row.username}
        </el-button>
      )
    },
  },
  // {
  //   prop: 'gender',
  //   label: '性别',
  //   // 字典数据（本地数据）
  //   // enum: genderType,
  //   // 字典请求不带参数
  //   enum: getUserGender,
  //   // 字典请求携带参数
  //   // enum: () => getUserGender({ id: 1 }),
  //   search: { el: 'select', props: { filterable: true } },
  //   fieldNames: { label: 'genderLabel', value: 'genderValue' },
  // },
  {
    // 多级 prop
    prop: 'user.detail.age',
    label: '年龄',
    search: {
      // 自定义 search 显示内容
      render: ({ searchParam }) => {
        return (
          <div class="flx-center">
            <el-input vModel_trim={searchParam.minAge} placeholder="最小年龄" />
            <span class="mr10 ml10">-</span>
            <el-input vModel_trim={searchParam.maxAge} placeholder="最大年龄" />
          </div>
        )
      },
    },
  },
  { prop: 'idCard', label: '身份证号', search: { el: 'input' } },
  { prop: 'email', label: '邮箱' },
  { prop: 'address', label: '居住地址' },
  // {
  //   prop: 'status',
  //   label: '用户状态',
  //   enum: getUserStatus,
  //   search: { el: 'tree-select', props: { filterable: true } },
  //   fieldNames: { label: 'userLabel', value: 'userStatus' },
  //   render: (scope) => {
  //     return (
  //       <>
  //         {BUTTONS.value.status
  //           ? (
  //               <el-switch
  //                 model-value={scope.row.status}
  //                 active-text={scope.row.status ? '启用' : '禁用'}
  //                 active-value={1}
  //                 inactive-value={0}
  //                 onClick={() => changeStatus(scope.row)}
  //               />
  //             )
  //           : (
  //               <el-tag type={scope.row.status ? 'success' : 'danger'}>{scope.row.status ? '启用' : '禁用'}</el-tag>
  //             )}
  //       </>
  //     )
  //   },
  // },
  // {
  //   prop: 'createTime',
  //   label: '创建时间',
  //   headerRender,
  //   width: 180,
  //   search: {
  //     el: 'date-picker',
  //     span: 2,
  //     props: { type: 'datetimerange', valueFormat: 'YYYY-MM-DD HH:mm:ss' },
  //     defaultValue: ['2022-11-12 11:35:00', '2022-12-12 11:35:00'],
  //   },
  // },
  { prop: 'operation', label: '操作', fixed: 'right', width: 330 },
])
</script>

<template>
  <div style="height: 100vh;">
    <el-config-provider size="small">
      <el-space wrap>
        <el-switch
          v-model="isDark"
          inline-prompt
          size="default"
        />
        <el-switch
          inline-prompt
          size="default"
        />
        <el-button type="primary">
          {{ '刷新表格' }}
        </el-button>
        <el-button type="primary">
          {{ '空表格' }}
        </el-button>
        <el-tooltip content="请打开浏览器控制台查看打印信息">
          <el-button type="primary">
            {{ '获取组件表格实例' }}
          </el-button>
        </el-tooltip>
        <div class="geeker-radio">
          <p class="geeker-small">
            {{ '表格大小' }}
          </p>
          <el-radio-group>
            <el-radio-button value="large">
              large
            </el-radio-button>
            <el-radio-button value="default">
              default
            </el-radio-button>
            <el-radio-button value="small">
              small
            </el-radio-button>
          </el-radio-group>
        </div>
        <div class="geeker-radio">
          <p class="geeker-small">
            {{ '分页大小' }}
          </p>
          <el-radio-group>
            <el-radio-button :value="false">
              no small
            </el-radio-button>
            <el-radio-button :value="true">
              small
            </el-radio-button>
          </el-radio-group>
        </div>
        <div class="geeker-radio">
          <p class="geeker-small">
            {{ '分页的对齐方式' }}
          </p>
          <el-radio-group>
            <el-radio-button value="right">
              right
            </el-radio-button>
            <el-radio-button value="center">
              center
            </el-radio-button>
            <el-radio-button value="left">
              left
            </el-radio-button>
          </el-radio-group>
        </div>
      </el-space>
    </el-config-provider>
    <GeekerTable :columns="columns" />
  </div>
</template>

<style scoped>
.geeker-radio {
  display: flex;
}

.geeker-small {
  font-size: 14px;
  line-height: 20px;
}
</style>
